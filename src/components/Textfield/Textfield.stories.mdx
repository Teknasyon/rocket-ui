import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import Textfield from './Textfield.vue';

export const Default = (args) => {
  return {
    components: { Textfield },
    setup() {
      return {
        args,
        input: action('input'),
        focus: action('focus'),
        blur: action('blur'),
        clickIcon: action('click:icon'),
        clickClear: action('click:clear'),
      };
    },
    template: `
    <Textfield 
      v-bind="args" 
      @input="input" 
      @focus="focus" 
      @blur="blur" 
      @click:icon="clickIcon"
      @click:clear="clickClear"
    />`,
  };
};

export const defaultArgs = {
  id: {
    control: {
      type: 'text',
    },
    defaultValue: 'textfield',
  },
  type: {
    control: {
      type: 'select',
      options: ['text', 'password', 'email', 'number', 'tel', 'url'],
    },
    defaultValue: 'text',
  },
  label: {
    control: {
      type: 'text',
    },
    defaultValue: 'Textfield',
  },
  placeholder: {
    control: {
      type: 'text',
    },
    defaultValue: 'Placeholder',
  },
  value: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  errorMsg: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  hint: {
    control: {
      type: 'text',
    },
    defaultValue: 'This is a hint text to help user.',
  },
  prependIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  appendIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  iconColor: {
    control: {
      type: 'color',
    },
    defaultValue: '',
  },
  loading: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  clearable: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
};

<Meta
  title="Components/Textfield"
  component={Textfield}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

# Textfield

Textfield is a component that allows the user to enter text.

It can be used as a single line or multi-line input. It can also be used as a password input.

It can be used with a label, placeholder, icon, error message, and loading state.

### Overview

<Canvas withSource="open">
  <Story
    name="Overview"
    argTypes={{ ...Default.argTypes }}
    args={{
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Playground

> Changes you make in the controls will be reflected in the example above.

<ArgsTable story="Overview" exclude={/^(change|input|focus|blur|click|on.*)/} />

## Stories

### Text

<Canvas withSource="open">
  <Story
    name="Text"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'text',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Mail

<Canvas withSource="open">
  <Story
    name="Mail"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'email',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Password

<Canvas withSource="open">
  <Story
    name="Password"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'password',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Url

<Canvas withSource="open">
  <Story
    name="Url"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'url',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Tel

<Canvas withSource="open">
  <Story
    name="Tel"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'tel',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Number

<Canvas withSource="open">
  <Story
    name="Number"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'number',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### With Error

<Canvas withSource="open">
  <Story
    name="With Error"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'text',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
      errorMsg: 'This is an error message',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>
