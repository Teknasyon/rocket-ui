import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import Textfield from './Textfield.vue';

export const Default = (args) => {
  return {
    components: { Textfield },
    setup() {
      return {
        args,
        input: action('input'),
        focus: action('focus'),
        blur: action('blur'),
        clickIcon: action('click:icon'),
        clickClear: action('click:clear'),
      };
    },
    template: `
    <Textfield 
      v-bind="args" 
      @input="input" 
      @focus="focus" 
      @blur="blur" 
      @click:icon="clickIcon"
      @click:clear="clickClear"
    />`,
  };
};

export const defaultArgs = {
  id: {
    control: {
      type: 'text',
    },
    defaultValue: 'textfield',
  },
  type: {
    control: {
      type: 'select',
      options: ['text', 'password', 'email', 'number', 'tel', 'url'],
    },
    defaultValue: 'text',
  },
  label: {
    control: {
      type: 'text',
    },
    defaultValue: 'Textfield',
  },
  placeholder: {
    control: {
      type: 'text',
    },
    defaultValue: 'Placeholder',
  },
  value: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  errorMsg: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  hint: {
    control: {
      type: 'text',
    },
    defaultValue: 'This is a hint text to help user.',
  },
  prependIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  appendIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  iconColor: {
    control: {
      type: 'color',
    },
    defaultValue: '',
  },
  loading: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  clearable: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
};

<Meta
  title="Components/Textfield"
  component={Textfield}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

# Textfield

The Textfield component is a versatile input field that can be used for various types of data entry in a web application.

- [Overview](#overview)

- [Playground](#playground)

- [Usage](#usage)

- [Stories](#stories)

- [Tips](#tips)

## Overview <a id="overview" />

The Textfield component allows for the input of text, numbers, and other types of data. It includes various options for customization, such as label, placeholder, and icon. It also includes options for error handling, hinting, and disabling or loading the field.

A Textfield component typically includes the following parts:

_Label:_ A label is text that describes the purpose of the input field. It should be placed near the input field so that users can easily understand what they are supposed to enter.

_Placeholder:_ A placeholder is text that is displayed in the input field when it is empty. It can be used to provide additional context or instructions for the input field.

_Input field:_ The input field is where the user enters their data. It can be of different types like text, password, number, email, etc.

_Error message:_ Error messages are displayed when the user enters invalid data. They should be clear and concise, and should indicate how to fix the problem.

_Hint:_ Hints are additional text that can be displayed to provide more context or instructions for the input field.

_Icon:_ Icons can be used to make the Textfield component more visually appealing and to provide additional information or context.

_Disabled:_ A disabled input field cannot be edited by the user.

_Loading:_ A loading input field indicates that the input field is temporarily unavailable or in the process of loading data.

_Clearable:_ A clearable input field is an input field that can be cleared by the user.

<Canvas withSource="open">
  <Story
    name="Overview"
    argTypes={{ ...Default.argTypes }}
    args={{
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Playground <a id="playground" />

> Changes you make in the controls will be reflected in the example above.

<ArgsTable story="Overview" exclude={/^(change|input|focus|blur|click|on.*)/} />

## Stories

### Text

<Canvas withSource="open">
  <Story
    name="Text"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'text',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Mail

<Canvas withSource="open">
  <Story
    name="Mail"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'email',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Password

<Canvas withSource="open">
  <Story
    name="Password"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'password',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Url

<Canvas withSource="open">
  <Story
    name="Url"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'url',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Tel

<Canvas withSource="open">
  <Story
    name="Tel"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'tel',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Number

<Canvas withSource="open">
  <Story
    name="Number"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'number',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### With Error

<Canvas withSource="open">
  <Story
    name="With Error"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'text',
      id: 'textfield-id',
      label: 'Textfield label',
      placeholder: 'Textfield placeholder',
      errorMsg: 'This is an error message',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

## Usage <a id="usage" />

## id (required)

The **id** prop is a unique identifier for the input field.

## label (optional)

The **label** prop is for text to be displayed as a label for the input field.

## placeholder (optional)

The **placeholder** prop is for text to be displayed as a placeholder in the input field.

## type (required)

The **type** is the type of input field, such as "text" or "number".

## value (optional)

The **value** prop is the current value of the input field.

## errorMsg (optional)

The **errorMsg** props is for the error message to be displayed if there is an error with the input.

## hint (optional)

The **hint** prop is the additional text to provide context or instructions for the input field.

## prependIcon (optional)

The **prependIcon** prop is an icon to be displayed before the input field.

## iconColor (optional)

The **iconColor** prop gives the color of the icon.

## disabled (optional)

The **disabled** prop indicates whether the input field is disabled or not.

## loading (optional)

The **loading** prop indicates whether the input field is in a loading state or not.

## clearable (optional)

### Tips <a id="tips" />

ðŸ’¡ The **clearable** prop indicates whether the input field can be cleared or not.

ðŸ’¡ Use a clear and concise label: The label should clearly describe what the input field is for, and should be positioned in a way that is easy for users to understand.

ðŸ’¡ Use placeholders wisely: Placeholders can be used to provide additional context or instructions for the input field, but should not be used as a substitute for a clear label.

ðŸ’¡ Choose the appropriate input type: The type of input field should match the type of data that will be entered. For example, use a number input field for numeric data, and a password input field for sensitive information.

ðŸ’¡ Provide clear error messages: Error messages should clearly indicate what the problem is and how to fix it.

ðŸ’¡ Use icons to enhance usability: Icons can be used to make the Textfield component more visually appealing and to provide additional information or context.

ðŸ’¡ Consider accessibility: Textfield component should be accessible to users with disabilities, including keyboard navigation, and providing appropriate ARIA attributes.

ðŸ’¡ Providing clear and helpful hints: Hints can be used to provide additional context or instructions for the input field.

ðŸ’¡ Use clearable option: This will help users to clear their input easily.

ðŸ’¡ Consider loading and disabled state: Use these states to indicate that the input field is temporarily unavailable or in the process of loading data.

ðŸ’¡ Test the Textfield component with different types of users: Test the Textfield component with users of different ages, backgrounds, and abilities to ensure that it is easy to use and understand.
