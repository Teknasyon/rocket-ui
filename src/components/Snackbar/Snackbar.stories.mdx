import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';

import Snackbar from './Snackbar.vue';

export const Default = (args) => ({
  components: { Snackbar },
  setup() {
    return { args, onAction: action('actionClick'), onClose: action('close') };
  },
  template: `
    <div style="position:relative; min-height: 30vh; width: 100%;">
      <Snackbar 
        v-bind="args" 
        @actionClick="onAction" 
        @close="onClose" 
      />
    </div>
  `,
});

export const defaultArgs = {
  text: {
    control: {
      type: 'text',
    },
    defaultValue: 'Single-line snackbar',
  },
  actionText: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  showAction: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  showClose: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  left: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  show: {
    control: {
      type: 'boolean',
    },
    defaultValue: true,
  },
  timeout: {
    control: {
      type: 'number',
    },
    defaultValue: 0,
    table: {
      defaultValue: {
        summary: '0',
      },
    },
    description: 'If 0, the snackbar will not dismiss automatically.',
  },
};

<Meta
  title="Components/Snackbar"
  component={Snackbar}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

# Snackbar

A Snackbar is a brief message that appears at the bottom of the screen to provide feedback to the user.

- [Overview](#overview)

- [Playground](#playground)

- [Usage](#usage)

- [Stories](#stories)

- [Tips](#tips)

# Overview <a id="overview" />

The Snackbar component is a short, temporary notification that appears at the bottom of the screen. It is typically used to provide feedback to the user after an action has been performed, such as a successful submission of a form or completion of a task

It is important to use the Snackbar component sparingly, as it can be disruptive if used excessively. It is generally recommended to use it only for important or time-sensitive notifications.

<Canvas withSource="open">
  <Story name="Overview" argTypes={{ ...Default.argTypes }} args={{}}>
    {Default.bind({})}
  </Story>
</Canvas>

### Playground <a id="playground" />

> Changes you make in the controls will be reflected in the example above.

<ArgsTable story="Overview" exclude={/^(action.*|close.*|on.*)$/} />

## Usage <a id="usage" />

### text (required)

The text to be displayed in the Snackbar. This prop is required and should be a string.

### showAction (optional)

Whether to display an action button in the Snackbar. This prop should be a boolean value (true or false). If set to true, an action button will be displayed in the Snackbar. If set to false, the action button will not be displayed.

### showClose (optional)

Whether to display a close button in the Snackbar. This prop should be a boolean value (true or false). If set to true, a close button will be displayed in the Snackbar that allows the user to manually close it. If set to false, the close button will not be displayed.

### left (optional)

Whether to align the Snackbar to the left or right side of the screen. This prop should be a boolean value (true or false). If set to true, the Snackbar will be aligned to the left side of the screen. If set to false, the Snackbar will be aligned to the right side.

### show (optional)

Whether to show or hide the Snackbar. This prop should be a boolean value (true or false). If set to true, the Snackbar will be displayed. If set to false, the Snackbar will be hidden.

### timeout (optional)

The amount of time in milliseconds that the Snackbar will be displayed before it is automatically hidden. This prop should be a number representing the number of milliseconds that the Snackbar will be displayed before it is automatically hidden.

## Stories <a id="stories" />

### Default

<Canvas withSource="open">
  <Story name="Default" argTypes={{ ...Default.argTypes }} args={{}}>
    {Default.bind({})}
  </Story>
</Canvas>

### With Action

<Canvas withSource="open">
  <Story
    name="With Action"
    argTypes={{ ...Default.argTypes }}
    args={{
      actionText: 'Action',
      showAction: true,
      text: 'Single-line snackbar with action',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### With Action and Close Button

<Canvas withSource="open">
  <Story
    name="With Action and Close Button"
    argTypes={{ ...Default.argTypes }}
    args={{
      actionText: 'Action',
      showAction: true,
      showClose: true,
      text: 'Snackbar with action and close',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### With Close Button

<Canvas withSource="open">
  <Story
    name="With Close Button"
    argTypes={{ ...Default.argTypes }}
    args={{
      showClose: true,
      text: 'Single-line snackbar with close',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Long Text

<Canvas withSource="open">
  <Story
    name="Long Text"
    argTypes={{ ...Default.argTypes }}
    args={{
      text: 'This is a very long snackbar message that will not fit on one line. It will wrap to multiple lines and the snackbar will grow in height.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Long Text with Action

<Canvas withSource="open">
  <Story
    name="Long Text with Action"
    argTypes={{ ...Default.argTypes }}
    args={{
      actionText: 'Action',
      showAction: true,
      text: 'This is a very long snackbar message that will not fit on one line. It will wrap to multiple lines and the snackbar will grow in height.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Long Text with Action and Close Button

<Canvas withSource="open">
  <Story
    name="Long Text with Action and Close Button"
    argTypes={{ ...Default.argTypes }}
    args={{
      actionText: 'Action',
      showAction: true,
      showClose: true,
      text: 'This is a very long snackbar message that will not fit on one line. It will wrap to multiple lines and the snackbar will grow in height.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### With Timeout

<Canvas withSource="open">
  <Story
    name="With Timeout"
    argTypes={{ ...Default.argTypes }}
    args={{
      timeout: 5000,
      text: 'Snackbar with timeout',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Tips <a id="tips" />

ðŸ’¡ Use the Snackbar sparingly: The Snackbar is a brief, temporary notification that should not be used excessively. Overusing the Snackbar can be disruptive and may cause users to ignore it.

ðŸ’¡ Use the Snackbar for important or time-sensitive notifications: The Snackbar is best used for notifications that are important or time-sensitive. For example, if a form submission is successful or a task has been completed, the Snackbar can be used to provide feedback to the user.

ðŸ’¡ Customize the appearance and behavior of the Snackbar: The Snackbar component has several props that can be used to customize its appearance and behavior. For example, you can use the left prop to align the Snackbar to the left or right side of the screen, and the timeout prop to control the amount of time it is displayed.

ðŸ’¡ Test the Snackbar with different screen sizes: The Snackbar should be tested on different screen sizes to ensure that it is displayed correctly and does not overlap with other content.

ðŸ’¡ Avoid using the Snackbar for critical errors: The Snackbar is not the best choice for displaying critical errors or warnings. For these types of notifications, it is generally better to use a modal or an alert.
