import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';

import Select from './Dropdown.vue';

export const Default = (args) => ({
  components: { Select },
  setup() {
    return { args, update: action('update:modelValue') };
  },
  template: `
    <Select v-bind="args" @update:modelValue="update" />
  `,
});

export const defaultArgs = {
  options: {
    control: {
      type: 'object',
      required: true,
    },
    defaultValue: [
      { value: '1', label: 'Option 1' },
      { value: '2', label: '2' },
      { value: '3', label: '3' },
      { value: '4', label: 'Option 4' },
      { value: '5', label: 'Option 5' },
      { value: '6', label: 'Option 6' },
      { value: '7', label: '7' },
      { value: '8', label: 'Option 8' },
      { value: '9', label: 'Option 9' },
      { value: '10', label: 'Option 10' },
    ],
  },
  placeholder: {
    control: {
      type: 'text',
    },
    defaultValue: 'Select an option',
  },
  taggable: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  multiple: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  clearable: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  loading: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  prependIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  appendIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
};

<Meta
  title="Components/Dropdown"
  component={Select}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

# Dropdown

A Dropdown component is a UI element that allows users to select from a list of options in a compact, space-efficient manner. It is typically implemented as a button or a toggle that, when clicked, displays a list of options for the user to choose from.

- [Overview](#overview)

- [Playground](#playground)

- [Usage](#usage)

- [Stories](#stories)

- [Tips](#tips)

## Overview <a id="overview" />

A Dropdown component is a UI element that allows users to select one or more options from a list in a compact and efficient manner. This particular Dropdown component has several customizable props that can be used to enhance its functionality and user experience.

## Usage <a id="usage" />

The Icon component can be used with the following props:

### appendIcon and prependIcon (optional)

The **appendIcon** and "prependIcon" props allow for the inclusion of icons or other visual elements at the end or beginning of the dropdown button, providing a clear indication of its purpose and functionality.

### options (required)

The **options** prop allows you to define the list of choices that the user can select from, which can be represented as text or other visual elements.

### placeholder (optional)

The **placeholder** prop allows you to define the default text displayed in the dropdown button before a user makes a selection.

### taggable (optional)

The **taggable** prop allows users to create new options on-the-fly, rather than just selecting from pre-defined options.

### multiple (optional)

The **multiple** prop allows users to select more than one option at a time.

### disabled (optional)

The **disabled** prop disables the component and prevent the user from interacting with it

### loading (optional)

The **loading** prop allows you to indicate that the component is in a loading state and the user should wait for the options to appear.

Overall, this Dropdown component offers a wide range of customization options that allow for greater flexibility and a better user experience. It can be used in a variety of contexts and can be tailored to suit the specific needs of the application.

<Canvas withSource="open">
  <Story
    name="Overview"
    argTypes={{ ...Default.argTypes }}
    args={{
      appendIcon: 'expand_less',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Playground <a id="playground" />

> Changes you make in the controls will be reflected in the example above.

<ArgsTable
  story="Overview"
  exclude={/^(click|prepend-icon|append-icon|option-prepend|update.*|on.*)$/}
/>

## Stories <a id="stories" />

### Multiple

<Canvas withSource="open">
  <Story
    name="Multiple"
    argTypes={{ ...Default.argTypes }}
    args={{
      multiple: true,
      placeholder: 'Select multiple options',
      appendIcon: 'expand_less',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Taggable

<Canvas withSource="open">
  <Story
    name="Taggable"
    argTypes={{ ...Default.argTypes }}
    args={{
      taggable: true,
      placeholder: 'Search or create a tag',
      appendIcon: 'expand_less',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Tips <a id="tips" />

ðŸ’¡ Keep the options list short: A long list of options can be overwhelming for users and make it difficult for them to find what they're looking for. Consider using a search or filtering feature to help users narrow down the options.

ðŸ’¡ Use clear, concise labels: The options in the list should have clear, concise labels that are easy for users to understand. Avoid using technical jargon or abbreviations that may be unfamiliar to some users.

ðŸ’¡ Provide clear visual cues: The Dropdown component should provide clear visual cues to indicate when it has focus, when an option is selected, and when the options list is open. This helps users understand the current state of the component and makes it easier for them to use.

ðŸ’¡ Make it keyboard accessible: The Dropdown component should be operable by keyboard and screen reader users. This means providing clear labels and role attributes, as well as allowing users to navigate through the options using the arrow keys.

ðŸ’¡ Consider the context of use: Think about the specific context in which the Dropdown component will be used, and design it accordingly. For example, if it will be used for selecting a date, it may be helpful to include a calendar view or date picker.

ðŸ’¡ Provide a clear indication of the selected option: When an option is selected, the selected option should be clearly indicated, for example by changing the color of the selected option, and the selected option should be clearly visible.

ðŸ’¡ Consider the loading state: If the options are loaded asynchronously, it's a good practice to provide a clear indication of loading state, for example by showing a spinner, so the user knows that the options are not yet available and they have to wait.

ðŸ’¡ Make it accessible: Make sure the component is accessible to all users, including those with disabilities. This means providing clear, accessible labels, and ensuring that the component can be easily operated by keyboard and screen reader users.
