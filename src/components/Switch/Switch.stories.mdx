import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import Switch from './Switch.vue';

export const Default = (args) => {
  return {
    components: { Switch },
    setup() {
      return {
        args,
        change: action('update:modelValue'),
      };
    },
    template: `<Switch v-bind="args" @update:modelValue="change"/>`,
  };
};

export const defaultArgs = {
  id: {
    control: {
      type: 'text',
    },
    defaultValue: 'switch',
  },
  modelValue: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  size: {
    control: {
      type: 'select',
      options: ['small', 'medium', 'large'],
    },
    defaultValue: 'medium',
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  label: {
    control: {
      type: 'text',
    },
    defaultValue: 'Switch',
  },
  hint: {
    control: {
      type: 'text',
    },
    defaultValue:
      'A control used to switch between two states: often on or off.',
  },
};

<Meta
  title="Components/Switch"
  component={Switch}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
    layout: 'centered',
  }}
/>

# Switch

- [Overview](#overview)

- [Playground](#playground)

- [Usage with props](#usage)

- [Stories](#stories)

- [Tips](#tips)

### Overview <a id="overview" />

The Switch component is a simple toggle that allows the user to switch between two states: on and off. It is designed to be used as a controlled component, meaning that the value prop must be provided and will determine the current state of the switch.

<Canvas withSource="open">
  <Story
    name="Overview"
    argTypes={{ ...Default.argTypes }}
    args={{
      modelValue: false,
      size: 'small',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Playground <a id="playground" />

> Changes you make in the controls will be reflected in the example above.

<ArgsTable story="Overview" exclude={/^(on|change|onChange.*)$/} />

## Usage with props <a id="usage" />

### modelValue (required)

The **modelValue** prop determines the current state of the switch. When the modelValue prop is true, the switch will be in the "on" state, and when it is false, the switch will be in the "off" state.

### size (optional)

The **size** prop setermines the size of the switch. Accepts the values small, medium (default), and large.

### id (optional)

The **id** prop sets the HTML id attribute on the switch element. This can be useful for connecting the switch to a label element using the for attribute.

### disabled (optional)

If the **disabled** prop is true, the switch will be disabled and the user will not be able to toggle it.

### label (optional)

The **label** prop sets the label text for the switch. This can be used to provide additional context or instructions for the switch.

### hint (optional)

The **hint** prop sets a hint text for the switch. This can be used to provide additional information about the switch, such as its purpose or how it is used.

### errorMsg (optional)

The **errorMsg** prop sets an error message for the switch. This can be used to display an error message when the switch is in an invalid state or when it has been used in an incorrect way.

## Stories <a id="stories" />

### Small

<Canvas withSource="open">
  <Story
    name="Small"
    argTypes={{ ...Default.argTypes }}
    args={{
      modelValue: false,
      size: 'small',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Medium

<Canvas withSource="open">
  <Story
    name="Medium"
    argTypes={{ ...Default.argTypes }}
    args={{
      modelValue: false,
      size: 'medium',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Large

<Canvas withSource="open">
  <Story
    name="Large"
    argTypes={{ ...Default.argTypes }}
    args={{
      modelValue: false,
      size: 'large',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### With Error

<Canvas withSource="open">
  <Story
    name="With Error"
    argTypes={{ ...Default.argTypes }}
    args={{
      modelValue: false,
      size: 'medium',
      errorMsg: 'This is an error message',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Tips <a id="tips" />

ðŸ’¡ Use the label prop to provide context or instructions for the switch. This can help the user understand what the switch is for and how to use it.

ðŸ’¡ Use the hint prop to provide additional information about the switch. This can be helpful if the switch is being used for a less common or more complex feature.

ðŸ’¡ Use the errorMsg prop to display an error message when the switch is in an invalid state or when it has been used in an incorrect way. This can help the user understand why the switch is not working as expected.

ðŸ’¡ Use the size prop to adjust the size of the switch to fit the layout and design of your application.

ðŸ’¡ Use the disabled prop to disable the switch when it is not needed or when it should not be used.

ðŸ’¡ Use the onChange prop to update the state of the switch and control its behavior. This is especially important when using the Switch component as a controlled component.

ðŸ’¡ Consider using the Switch component as a controlled component, which means that the value prop must be provided and will determine the current state of the switch. This can help ensure that the state of the switch is always in sync with the rest of your application.
