import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';

import Tooltip from './Tooltip.vue';
import Icon from '../Icon/Icon.vue';
import Button from '../Button/Button.vue';

export const Placements = [
  'auto',
  'auto-start',
  'auto-end',
  'top',
  'top-start',
  'top-end',
  'right',
  'right-start',
  'right-end',
  'bottom',
  'bottom-start',
  'bottom-end',
  'left',
  'left-start',
  'left-end',
];
export const Triggers = ['click', 'hover', 'focus', 'touch'];

export const defaultArgs = {
  placement: {
    control: {
      type: 'select',
      options: Placements,
    },
    defaultValue: 'top',
  },
  triggers: {
    control: {
      type: 'inline-check',
      options: Triggers,
    },
    defaultValue: [Triggers[1]],
  },
  autoHide: { control: { type: 'boolean' }, defaultValue: true },
  distance: { control: { type: 'number' }, defaultValue: 10 },
  skidding: { control: { type: 'number' }, defaultValue: 0 },
  container: { control: { type: 'text' }, defaultValue: '.v-popper' },
  strategy: {
    control: {
      type: 'radio',
      options: ['absolute', 'fixed'],
    },
    defaultValue: 'absolute',
  },
  popperClass: {
    control: { type: 'text' },
    defaultValue: '',
  },
  shown: { control: { type: 'boolean' }, defaultValue: false },
  theme: {
    control: {
      type: 'radio',
      options: ['tooltip', 'dropdown', 'menu'],
    },
    defaultValue: 'tooltip',
  },
  content: {
    control: {
      type: 'text',
    },
    defaultValue: 'Tooltip content',
  },
  delay: {
    control: {
      type: 'number',
    },
    defaultValue: 0,
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  flip: {
    control: {
      type: 'boolean',
    },
    defaultValue: true,
  },
  shift: {
    control: {
      type: 'boolean',
    },
    defaultValue: true,
  },
  autoSize: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  positioningDisabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  handleResize: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  arrowPadding: {
    control: {
      type: 'number',
    },
    defaultValue: 0,
  },
  onShow: {
    control: {
      type: 'action',
    },
    action: 'show',
  },
  onHide: {
    control: {
      type: 'action',
    },
    action: 'hide',
  },
  onDispose: {
    control: {
      type: 'action',
    },
    action: 'dispose',
  },
  onResize: {
    control: {
      type: 'action',
    },
    action: 'resize',
  },
};

<Meta
  title="Components/Tooltip"
  component={Tooltip}
  argTypes={{
    ...defaultArgs,
  }}
  parameters={{
    viewMode: 'docs',
    layout: 'centered',
  }}
/>

export const Default = ({ slot, ...args }) => {
  return {
    components: { Tooltip, Icon, Button },
    setup() {
      return {
        args,
      };
    },
    template: `
    <Tooltip v-bind="args">
      ${slot}
      <template #contentSlot>
      content with slot
      </template>
    </Tooltip>`,
  };
};

# Tooltip

<Canvas>
  <Story
    name="Overview"
    argTypes={{ ...Default.argTypes }}
    args={{
      slot: '<Icon name="info" size="24" />',
      content: 'Icon tooltip content prop mdx',
      placement: 'bottom',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Playground

> Changes you make in the controls will be reflected in the example above.

<ArgsTable story="Overview" />

## Stories

### Icon

<Canvas>
  <Story
    name="Icon"
    argTypes={{ ...Default.argTypes }}
    args={{
      slot: '<Icon name="info" size="24" />',
      content: 'Icon tooltip content prop mdx',
      placement: 'bottom',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Text

<Canvas>
  <Story
    name="Text"
    argTypes={{ ...Default.argTypes }}
    args={{
      slot: '<p>Text tooltip</p>',
      content: 'Text tooltip content prop mdx',
      placement: 'bottom',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Button

<Canvas>
  <Story
    name="Button"
    argTypes={{ ...Default.argTypes }}
    args={{
      slot: `<Button variant="primary" >Button tooltip</Button>`,
      content: 'This is a tooltip',
      distance: 10,
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>
