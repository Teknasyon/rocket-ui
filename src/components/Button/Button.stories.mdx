import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import Button from './Button.vue';
import Icon from '../Icon/Icon.vue';

export const WithContentSlot = ({ content, ...rest }) => {
  const args = rest;
  return {
    components: { Button },
    setup() {
      return {
        args,
        content,
        click: action('click'),
      };
    },
    template: `
    <Button v-bind="args" @click="click">
      <template v-slot:default>
        <span>{{ content }}</span>
      </template>
    </Button>`,
  };
};

export const WithCustomIconSlot = ({ icon, ...rest }) => {
  const args = rest;
  return {
    components: { Button, Icon },
    setup() {
      return {
        args,
        icon,
        click: action('click'),
      };
    },
    template: `
    <Button v-bind="args" @click="click">
      <template v-slot:custom-icon>
        <Icon name="fingerprint"/>
      </template>
    </Button>`,
  };
};

export const defaultArgs = {
  variant: {
    control: {
      type: 'select',
      options: ['primary', 'secondary', 'text', 'outline'],
    },
    defaultValue: 'primary',
    table: {
      defaultValue: {
        summary: 'primary',
        detail: 'primary | secondary | text | outline',
      },
    },
    description: 'Variants of button',
  },
  loading: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  size: {
    control: {
      type: 'select',
      options: ['small', 'medium', 'large'],
    },
    defaultValue: 'medium',
    table: {
      defaultValue: {
        summary: 'medium',
        detail: 'small | medium | large ',
      },
    },
    description: 'Sizes of button',
  },
  prependIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  appendIcon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  onlyIcon: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  height: {
    control: {
      type: 'text',
    },
    defaultValue: '',
  },
  block: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
  },
  type: {
    control: {
      type: 'select',
      options: ['button', 'submit', 'reset'],
    },
    defaultValue: 'button',
    table: {
      defaultValue: {
        summary: 'filled',
        detail: 'button | submit | reset',
      },
    },
    description: 'Types of input element',
  },
  backgroundColor: {
    control: {
      type: 'color',
    },
  },
};

<Meta
  title="Components/Button"
  component={Button}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

# Button

Button is a clickable element that is used to trigger an action or event, such as submitting a form, opening a dialog, canceling an action, or performing a delete operation.

It has a default style and can be customized with different variants, sizes, and colors.

Also, it has a `custom-icon` for custom icons and already has a `content` slot for custom content.

### Overview

<Canvas>
  <Story
    name="Overview"
    argTypes={{ ...WithContentSlot.argTypes }}
    args={{
      variant: 'primary',
      content: 'Button',
    }}
  >
    {WithContentSlot.bind({})}
  </Story>
</Canvas>

### Playground

<ArgsTable
  story="Overview"
  exclude={/^(click|content|default|custom-icon|on.*)$/}
/>

## Variants

### Primary

<Canvas withSource="open">
  <Story
    name="Primary"
    argTypes={{ ...WithContentSlot.argTypes }}
    args={{
      variant: 'primary',
      content: 'Primary',
    }}
  >
    {WithContentSlot.bind({})}
  </Story>
</Canvas>

### Secondary

<Canvas withSource="open">
  <Story
    name="Secondary"
    argTypes={{ ...WithContentSlot.argTypes }}
    args={{
      variant: 'secondary',
      content: 'Secondary',
    }}
  >
    {WithContentSlot.bind({})}
  </Story>
</Canvas>

### Outline

<Canvas withSource="open">
  <Story
    name="Outline"
    argTypes={{ ...WithContentSlot.argTypes }}
    args={{
      variant: 'outline',
      content: 'Outline',
    }}
  >
    {WithContentSlot.bind({})}
  </Story>
</Canvas>

### Text

<Canvas withSource="open">
  <Story
    name="Text"
    argTypes={{ ...WithContentSlot.argTypes }}
    args={{
      variant: 'text',
      content: 'Text',
    }}
  >
    {WithContentSlot.bind({})}
  </Story>
</Canvas>

### `#Custom Icon Slot`

<Canvas withSource="open">
  <Story
    name="Custom Icon"
    argTypes={{ ...WithCustomIconSlot.argTypes }}
    args={{
      variant: 'primary',
    }}
  >
    {WithCustomIconSlot.bind({})}
  </Story>
</Canvas>

### Unstyled

#### \* Not yet implemented in the library

<Canvas withSource="open">
  <Story
    name="Unstyled"
    argTypes={{ ...WithCustomIconSlot.argTypes }}
    args={{}}
  >
    {WithCustomIconSlot.bind({})}
  </Story>
</Canvas>
