import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import Alert from './Alert.vue';
import Icon from '../Icon/Icon.vue';

export const Default = (args) => ({
  components: { Alert },
  setup() {
    return { args, click: action('close') };
  },
  template: `<Alert v-bind="args" @close="click"/>`,
});

export const DefaultWithSlots = (args) => ({
  components: { Alert, Icon },
  setup() {
    return { args, onClick: action('close') };
  },
  template: `
  <Alert v-bind="args">
    <template #close>
      <Icon name="logout" @click="onClick" />
    </template>
  </Alert>`,
});

export const defaultArgs = {
  type: {
    control: {
      type: 'select',
      options: ['success', 'info', 'warning', 'error'],
    },
    defaultValue: 'success',
    table: {
      defaultValue: {
        summary: 'success',
        detail: 'success | info | warning | error',
      },
    },
    description: 'Type of alert',
  },
  title: {
    control: {
      type: 'text',
    },
    defaultValue: 'Alert Title',
  },
  description: {
    control: {
      type: 'text',
    },
    defaultValue:
      'A type of alert which appears in a layer above other content, visually similar to a mobile or desktop push notification.',
  },
  size: {
    control: {
      type: 'select',
      options: ['small', 'medium', 'large'],
    },
    defaultValue: 'medium',
    table: {
      defaultValue: {
        summary: 'medium',
        detail: 'small | medium | large ',
      },
    },
    description: 'Sizes of alert',
  },
  closable: {
    control: {
      type: 'boolean',
    },
    defaultValue: true,
  },
  closeText: {
    control: {
      type: 'text',
    },
    defaultValue: 'Close',
  },
};

<Meta
  title="Components/Alert"
  component={Alert}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

# Alert

Alert is a component that displays a message to the user. It is often used to display information, warning, error, or success messages.

- [Overview](#overview)

- [Playground](#playground)

- [Variants](#variants)

- [Customizable Slots](#customizable-slots)

- [Tips](#tips)

## Overview <a id="overview" />

ðŸ‘‰ The main purpose of an Alert component is to get the attention of the user and prompt them to take an action.

ðŸ‘‰ Alert component has a `close` slot that can be used to add a **custom close button**. This button emits a **click** event when the close button is clicked.

ðŸ‘‰ The visibility of the component should be controlled by the parent component.

ðŸ‘‰ Our Alert boxes comes in three different sizes: _small_, _medium_ or _large_.

ðŸ‘‰ Default alert shows a medium sized _info variant_ with no a title or a description.

<Canvas withSource="open">
  <Story
    name="Overview"
    argTypes={{ ...Default.argTypes }}
    args={{ type: 'success' }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

## Playground <a id="playground" />

> Changes you make in the controls will be reflected in the example above. Try it yourself!

<ArgsTable story="Overview" exclude={/^(click|close|on.*)$/} />

## Variants <a id="variants" />

> Our system has 4 Alert variants: **Success**, **Error**, **Information** and **Warning**.

### Success

<Canvas withSource="open">
  <Story
    name="Success"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'success',
      title: 'Success',
      description:
        'Success Variant! This is a short but descriptive message that indicates a successful action.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Error

<Canvas withSource="open">
  <Story
    name="Error"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'error',
      title: 'Error',
      description:
        'Error Variant! This is a short but descriptive message that indicates a negative action.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Information

<Canvas withSource="open">
  <Story
    name="Information"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'info',
      title: 'Info',
      description:
        'Info Variant! This is a short but descriptive message that indicates a neutral informative action.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

### Warning

<Canvas withSource="open">
  <Story
    name="Warning"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'warning',
      title: 'Warning',
      description:
        'Warning Variant! This is a short but descriptive message that indicates a negative or dangerous action.',
    }}
  >
    {Default.bind({})}
  </Story>
</Canvas>

## Customizable Slots <a id="customizable-slots" />

### `#close`

> This `close` slot can be used for creating your own custom close buttons like this one example below ðŸ‘‡

<Canvas withSource="open">
  <Story
    name="Custom Close Button"
    argTypes={{ ...Default.argTypes }}
    args={{
      type: 'info',
      title: 'With a custom button',
      description:
        'This alert box looks very similar to our default examples but it contains a custom close button in it!',
    }}
  >
    {DefaultWithSlots.bind({})}
  </Story>
</Canvas>

### Tips <a id="tips" />

ðŸ’¡ Don't confuse an _Alert Box_ with a _Toast_, a _Notification Bar_ or a _Snackbar_. You can use it for system-level alert messages or general updates.

ðŸ’¡ Use it only to attract the attention of the user. We don't want to interrupt their tasks!

ðŸ’¡ Add only _one_ call to action in an _Alert Box_.

ðŸ’¡ Keep your descriptions _short_ and _clear_.
